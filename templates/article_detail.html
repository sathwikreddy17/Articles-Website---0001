{% extends "base.html" %}
{% block title %}{{ article.title }}{% endblock %}

{% block content %}
<article class="mb-4">
  <header class="mb-3">
    <h1 class="mb-2">{{ article.title }}</h1>
    {% if article.tags %}
      <div>
        {% for t in article.tags.split(',') %}
          <a class="badge bg-secondary text-decoration-none" href="{{ url_for('main.by_tag', tag=t.strip()) }}">{{ t.strip() }}</a>
        {% endfor %}
      </div>
    {% endif %}
  </header>
  <div class="body">{{ article.body_html|safe }}</div>
</article>
{% if current_user.is_authenticated and current_user.is_admin %}
  <a class="btn btn-primary" href="{{ url_for('admin.edit', article_id=article.id) }}">✏️ Edit</a>
  <form action="{{ url_for('admin.delete', article_id=article.id) }}" method="post" style="display:inline">
    <button class="btn btn-danger" type="submit">🗑️ Delete</button>
  </form>
{% endif %}
{% endblock %}
